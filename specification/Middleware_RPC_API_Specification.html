

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Advanced Middleware RPC API Specification &mdash; FIWARE Advanced Middleware KIARA 0.4.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/css/fiware_readthedocs.css" type="text/css" />
  

  
    <link rel="top" title="FIWARE Advanced Middleware KIARA 0.4.0 documentation" href="../index.html"/>
        <link rel="next" title="Advanced Middleware RPC Dynamic Types API Specification" href="Middleware_RPC_Dynamic_Types_API_Specification.html"/>
        <link rel="prev" title="Open Specifiation" href="OpenSpecification.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> FIWARE Advanced Middleware KIARA
          

          
          </a>

          
            
            
              <div class="version">
                0.4.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Manuals</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../manuals/Installation_and_Admin_Guide.html">KIARA Installation and Administration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manuals/User_and_Programmer_Guide.html">KIARA User and Programmer Guide</a></li>
</ul>
<p class="caption"><span class="caption-text">Architecture</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Architecture.html">Advanced Middleware Architecture</a></li>
</ul>
<p class="caption"><span class="caption-text">Open Specification</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="OpenSpecification.html">Open Specifiation</a></li>
</ul>
<p class="caption"><span class="caption-text">API Specification</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">Advanced Middleware RPC API Specification</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#abstract">Abstract</a></li>
<li class="toctree-l2"><a class="reference internal" href="#status-of-this-document">Status of this Document</a></li>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#purpose">Purpose</a></li>
<li class="toctree-l3"><a class="reference internal" href="#reference-material">Reference Material</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#a-quick-example">A quick Example</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#creating-a-client">Creating a client</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creating-a-server">Creating a server</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#api-overview">API Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#main-entry-point">Main entry point</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#org-fiware-kiara-kiara">org.fiware.kiara.Kiara</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#common-interfaces">Common interfaces</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#org-fiware-kiara-context">org.fiware.kiara.Context</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#network-transports">Network transports</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#org-fiware-kiara-transport-transport">org.fiware.kiara.transport.Transport</a></li>
<li class="toctree-l4"><a class="reference internal" href="#org-fiware-kiara-transport-servertransport">org.fiware.kiara.transport.ServerTransport</a></li>
<li class="toctree-l4"><a class="reference internal" href="#org-fiware-kiara-client-asynccallback">org.fiware.kiara.client.AsyncCallback</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#server-api">Server API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#org-fiware-kiara-server-server">org.fiware.kiara.server.Server</a></li>
<li class="toctree-l4"><a class="reference internal" href="#org-fiware-kiara-server-service">org.fiware.kiara.server.Service</a></li>
<li class="toctree-l4"><a class="reference internal" href="#org-fiware-kiara-server-servant">org.fiware.kiara.server.Servant</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#dependent-api">Dependent API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#x-y-idl-servicename">x.y.&lt;IDL-ServiceName&gt;</a></li>
<li class="toctree-l4"><a class="reference internal" href="#x-y-idl-servicename-async">x.y.&lt;IDL-ServiceName&gt;Async</a></li>
<li class="toctree-l4"><a class="reference internal" href="#x-y-idl-servicename-process">x.y.&lt;IDL-ServiceName&gt;Process</a></li>
<li class="toctree-l4"><a class="reference internal" href="#x-y-idl-servicename-client">x.y.&lt;IDL-ServiceName&gt;Client</a></li>
<li class="toctree-l4"><a class="reference internal" href="#x-y-idl-servicename-proxy">x.y.&lt;IDL-ServiceName&gt;Proxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#x-y-idl-servicename-servant">x.y.&lt;IDL-ServiceName&gt;Servant</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#detailed-api">Detailed API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">Main entry point</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">Common interfaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">Network transports</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">Dependent API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id6">API Usage Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#client-api">Client API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#direct-connection-to-remote-service">Direct connection to remote service</a></li>
<li class="toctree-l4"><a class="reference internal" href="#secure-connection-to-remote-service">Secure connection to remote service</a></li>
<li class="toctree-l4"><a class="reference internal" href="#explicitly-instanciate-and-configure-advanced-middleware-components">Explicitly instanciate and configure Advanced Middleware components</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id7">Server API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#providing-a-service">Providing a service</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id8">Explicitly instanciate and configure Advanced Middleware components</a></li>
<li class="toctree-l4"><a class="reference internal" href="#secure-tcp-server">Secure TCP server</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Middleware_RPC_Dynamic_Types_API_Specification.html">Advanced Middleware RPC Dynamic Types API Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="Middleware_PUBSUB_API_Specification.html">Advanced Middleware Publication Subscription API Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="Middleware_IDL_Specification.html">Advanced Middleware IDL Specification</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">FIWARE Advanced Middleware KIARA</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>Advanced Middleware RPC API Specification</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/specification/Middleware_RPC_API_Specification.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="advanced-middleware-rpc-api-specification">
<h1>Advanced Middleware RPC API Specification<a class="headerlink" href="#advanced-middleware-rpc-api-specification" title="Permalink to this headline">¶</a></h1>
<p><strong>Date: 18th January 2016</strong></p>
<ul class="simple">
<li>Version: <a class="reference external" href="#">0.4.0</a></li>
<li>Latest version: <a class="reference internal" href=""><em>latest</em></a></li>
</ul>
<p>Editors:</p>
<ul class="simple">
<li><a class="reference external" href="http://www.eprosima.com/index.php/en/">eProsima - The Middleware
Experts</a></li>
<li><a class="reference external" href="http://www.dfki.de/">DFKI - German Research Center for Artificial
Intelligence</a></li>
<li><a class="reference external" href="http://blog.zhaw.ch/icclab">ZHAW - School of Engineering
(ICCLab)</a></li>
</ul>
<p>Copyright © 2013-2015 by eProsima, DFKI, ZHAW. All Rights Reserved</p>
<hr class="docutils" />
<div class="section" id="abstract">
<h2>Abstract<a class="headerlink" href="#abstract" title="Permalink to this headline">¶</a></h2>
<p>Ahe Advanced Middleware GE enables flexible, efficient, scalable, and
secure communication between distributed applications and to/between
FIWARE GEs. The <strong>Middleware RPC API Specification</strong> describes the
interfaces and procedures to do Request/Reply type Remote Procedure
Calls (RPC).</p>
<p>It provides basic static compile-time Data-Mapping and generation of
Function Stubs/Skeletons, created by a compile time IDL-Parser/Generator
from the remote service description, which is provided in the Advanced
Middleware Interface Definition Language (IDL) syntax, which is based on
the Object Management Group (OMG) IDL draft submitted to W3C.</p>
</div>
<div class="section" id="status-of-this-document">
<h2>Status of this Document<a class="headerlink" href="#status-of-this-document" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="46%" />
<col width="54%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Date</strong></th>
<th class="head"><strong>Description</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>7-November-2014</td>
<td>Release 0.1.0</td>
</tr>
<tr class="row-odd"><td>8-April-2015</td>
<td>Release 0.2.0</td>
</tr>
<tr class="row-even"><td>10-October-2015</td>
<td>Release 0.3.0</td>
</tr>
<tr class="row-odd"><td>18-January-2016</td>
<td>Release 0.4.0</td>
</tr>
</tbody>
</table>
</div>
<hr class="docutils" />
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<div class="section" id="purpose">
<h3>Purpose<a class="headerlink" href="#purpose" title="Permalink to this headline">¶</a></h3>
<p>This document attempts to describe the Advanced Middleware RPC API.</p>
</div>
<div class="section" id="reference-material">
<h3>Reference Material<a class="headerlink" href="#reference-material" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference internal" href="Middleware_IDL_Specification.html"><em>Advanced Middleware IDL Specification</em></a></li>
<li><a class="reference internal" href="Middleware_RPC_Dynamic_Types_API_Specification.html"><em>Advanced Middleware RPC Dynamic Types API Specification</em></a></li>
</ul>
</div>
</div>
<div class="section" id="a-quick-example">
<h2>A quick Example<a class="headerlink" href="#a-quick-example" title="Permalink to this headline">¶</a></h2>
<p>Before the description of the public Advanced Middleware RPC API, a
quick example is provided. It shows how a simple client is created, as
well as a simple server. The example uses the following Advanced
Middleware interface definition:</p>
<div class="highlight-python"><div class="highlight"><pre>service Calculator
{
    i32 add(i32 num1, i32 num2);
};
</pre></div>
</div>
<div class="section" id="creating-a-client">
<h3>Creating a client<a class="headerlink" href="#creating-a-client" title="Permalink to this headline">¶</a></h3>
<p>The following code shows how to instanciate and start a client and
execute a call to the server:</p>
<div class="code java highlight-python"><div class="highlight"><pre>Context context = Advanced Middleware.createContext();
Connection connection = context.connect(&quot;tcp://192.168.1.18:8080?serialization=cdr&quot;);
CalculatorClient client = connection.getServiceProxy(CalculatorClient.class);

int result = client.add(3,4);
</pre></div>
</div>
</div>
<div class="section" id="creating-a-server">
<h3>Creating a server<a class="headerlink" href="#creating-a-server" title="Permalink to this headline">¶</a></h3>
<p>The following code shows how to instanciate and start a server:</p>
<div class="code java highlight-python"><div class="highlight"><pre>Context context = Advanced Middleware.createContext();
Server server = context.createServer();
Service service = context.createService();

// User creates its implementation of the Middleware IDL service.
Calculator calculator_impl = new CalculatorImpl();

service.register(calculator_impl);
server.addService(service, &quot;tcp://0.0.0.0:8080&quot;, &quot;cdr&quot;);

server.run();
</pre></div>
</div>
</div>
</div>
<div class="section" id="api-overview">
<h2>API Overview<a class="headerlink" href="#api-overview" title="Permalink to this headline">¶</a></h2>
<p>This section enumerates and describes the classes provided by Advanced
Middleware RPC API.</p>
<div class="section" id="main-entry-point">
<h3>Main entry point<a class="headerlink" href="#main-entry-point" title="Permalink to this headline">¶</a></h3>
<div class="section" id="org-fiware-kiara-kiara">
<h4>org.fiware.kiara.Kiara<a class="headerlink" href="#org-fiware-kiara-kiara" title="Permalink to this headline">¶</a></h4>
<p>This class is the main entry point to use the Advanced Middlware. It
creates or provides implementation of the top level Advanced Middleware
interfaces, especially the <code class="docutils literal"><span class="pre">Context</span></code>.</p>
<p><strong>Functions</strong>:</p>
<ul class="simple">
<li><strong>getTypeDescriptorBuilder</strong>: This function returns an instance of
the type descriptor builder. It is a part of the dynamic API and is
described <a class="reference internal" href="Middleware_RPC_Dynamic_Types_API_Specification.html"><em>here</em></a>.</li>
<li><strong>getDynamicValueBuilder</strong>: This function returns an instance of the
dynamic value builder. It is a part of the dynamic API and is
described <a class="reference internal" href="Middleware_RPC_Dynamic_Types_API_Specification.html"><em>here</em></a>.</li>
<li><strong>createContext</strong>: This function creates a new instance of the
Context class, which is described below.</li>
<li><strong>shutdown</strong>: This function closes and releases all internal Advanced
Middleware structures (e.g. stops all pending tasks). Call this
before you exit your application.</li>
</ul>
</div>
</div>
<div class="section" id="common-interfaces">
<h3>Common interfaces<a class="headerlink" href="#common-interfaces" title="Permalink to this headline">¶</a></h3>
<div class="section" id="org-fiware-kiara-context">
<h4>org.fiware.kiara.Context<a class="headerlink" href="#org-fiware-kiara-context" title="Permalink to this headline">¶</a></h4>
<p>This interface is the starting point to use the Advanced Middleware. It
holds the configuration of the middleware and hides the process of
negotiation, selection, and configuration of the correct implementation
classes. Also it provides users a way to instantiate Advanced Middleware
components.</p>
<p><strong>Functions:</strong></p>
<ul class="simple">
<li><strong>connect</strong>: This function creates a new connection to the server.
This connection might be used by proxies to send requests to the
server.</li>
<li><strong>createTransport</strong>: This function provides a direct way to create a
specific network <code class="docutils literal"><span class="pre">Transport</span></code> instance which can be configured for
specific use cases.</li>
<li><strong>createSerializer</strong>: This function provides a direct way to create a
specific <code class="docutils literal"><span class="pre">Serializer</span></code> instance which can be configured for specific
use cases.</li>
<li><strong>createServer</strong>: This function creates a new <code class="docutils literal"><span class="pre">Server</span></code> instance
used to add <code class="docutils literal"><span class="pre">Service</span></code> instances.</li>
<li><strong>createService</strong>: This function creates a new <code class="docutils literal"><span class="pre">Service</span></code> instance
used to register <code class="docutils literal"><span class="pre">Servant</span></code> instances.</li>
</ul>
</div>
</div>
<div class="section" id="network-transports">
<h3>Network transports<a class="headerlink" href="#network-transports" title="Permalink to this headline">¶</a></h3>
<div class="section" id="org-fiware-kiara-transport-transport">
<h4>org.fiware.kiara.transport.Transport<a class="headerlink" href="#org-fiware-kiara-transport-transport" title="Permalink to this headline">¶</a></h4>
<p>This interface provides a basic abstraction for network transport
implementations. To create a <code class="docutils literal"><span class="pre">Transport</span></code> instance directly, the
developer must use the factory method <code class="docutils literal"><span class="pre">createTransport</span></code> of the
interface <em>org.fiware.kiara.Context</em>, which will return a compliant
network transport implementation.</p>
<p><strong>Functions:</strong></p>
<ul class="simple">
<li><strong>getTransportFactory</strong>: This function returns an instance of the
factory class used to create this transport instance.</li>
</ul>
</div>
<hr class="docutils" />
<div class="section" id="org-fiware-kiara-transport-servertransport">
<h4>org.fiware.kiara.transport.ServerTransport<a class="headerlink" href="#org-fiware-kiara-transport-servertransport" title="Permalink to this headline">¶</a></h4>
<p>This interface provides an abstraction for a server-side connection
endpoint waiting for incoming connections.</p>
<p><strong>Functions:</strong></p>
<ul class="simple">
<li><strong>getTransportFactory</strong>: This function returns an instance of a
factory class which was used to create this server transport
instance.</li>
<li><strong>setDispatchingExecutor</strong>: This function sets executor service used
for dispatching incoming messages.</li>
<li><strong>getDispatchingExecutor</strong>: Returns executor service previously set.</li>
<li><strong>isRunning</strong>: Returns true if server is up and waiting for incoming
connections.</li>
<li><strong>startServer</strong>: Starts server.</li>
<li><strong>stopServer</strong>: Stops server.</li>
<li><strong>getLocalTransportAddress</strong>: Returns transport address to which this
server is bound.</li>
</ul>
</div>
<div class="section" id="org-fiware-kiara-client-asynccallback">
<h4>org.fiware.kiara.client.AsyncCallback<a class="headerlink" href="#org-fiware-kiara-client-asynccallback" title="Permalink to this headline">¶</a></h4>
<p>This interface provides an abstraction used by the client to return the
server’s reply when the call was asynchronous.</p>
<p><strong>Functions:</strong></p>
<ul class="simple">
<li><strong>onSuccess</strong>: This function will be called when the remote function
call was successfull. It must be implemented by the user.</li>
<li><strong>onFailure</strong>: This function will be called when the remote function
call was <em>not</em> successfull.It must be implemented by the user.</li>
</ul>
</div>
</div>
<div class="section" id="server-api">
<h3>Server API<a class="headerlink" href="#server-api" title="Permalink to this headline">¶</a></h3>
<div class="section" id="org-fiware-kiara-server-server">
<h4>org.fiware.kiara.server.Server<a class="headerlink" href="#org-fiware-kiara-server-server" title="Permalink to this headline">¶</a></h4>
<p>Using this interface, users can start up multiple services on different
ports. The implementation uses serialization mechanisms and network
transports to listen for client requests and executes the proper
<code class="docutils literal"><span class="pre">Servant</span></code> implementation. The optional negotiation protocol provides
automatic discovery of all available services via the HTTP protocol.</p>
<p><strong>Functions:</strong></p>
<ul class="simple">
<li><strong>enableNegotiationService</strong>: Enables the negotiation service on the
specified port and configuration path.</li>
<li><strong>disableNegotiationService</strong>: Disables the negotiation service.</li>
<li><strong>addService</strong>: This function registers the service on a specified
URL and with a specified serialization protocol.</li>
<li><strong>removeService</strong>: Removes a previously registered service.</li>
<li><strong>run</strong>: Starts the server.</li>
</ul>
</div>
<hr class="docutils" />
<div class="section" id="org-fiware-kiara-server-service">
<h4>org.fiware.kiara.server.Service<a class="headerlink" href="#org-fiware-kiara-server-service" title="Permalink to this headline">¶</a></h4>
<p>This interface represent a service that can be registered with the
server.</p>
<p><strong>Functions:</strong></p>
<ul class="simple">
<li><strong>register:</strong> Register a <code class="docutils literal"><span class="pre">Servant</span></code> object or <code class="docutils literal"><span class="pre">DynamicHandler</span></code>
with the service.</li>
<li><strong>loadServiceIDLFromString:</strong> Load the service IDL from a string.
This function is only required when the service is handled via
dynamic handlers.</li>
</ul>
</div>
<hr class="docutils" />
<div class="section" id="org-fiware-kiara-server-servant">
<h4>org.fiware.kiara.server.Servant<a class="headerlink" href="#org-fiware-kiara-server-servant" title="Permalink to this headline">¶</a></h4>
<p>This interface provides an abstraction used by the server to execute the
provided functions when a client request is received.</p>
<p><strong>Functions:</strong></p>
<ul class="simple">
<li><strong>getServiceName</strong>: Returns the name of the service implemented by
this servant.</li>
<li><strong>process</strong>: This function processes the incoming request message and
returns the produced response message. It is automatically generated.</li>
</ul>
</div>
</div>
<div class="section" id="dependent-api">
<h3>Dependent API<a class="headerlink" href="#dependent-api" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line">This subsection contains the interfaces and classes that are dependent
from the user Advanced Middleware IDL definition. In the static
version of the Advanced Middleware implementation these interfaces and
classes should be generated by the compile time preprocessor.</div>
<div class="line">This section uses the example in section <a class="reference external" href="#api-usage-examples">API Usage
Examples</a>.</div>
</div>
<hr class="docutils" />
<div class="section" id="x-y-idl-servicename">
<h4>x.y.&lt;IDL-ServiceName&gt;<a class="headerlink" href="#x-y-idl-servicename" title="Permalink to this headline">¶</a></h4>
<p>This interface is a mapping of the Advanced Middleware IDL service. It
exposes the service’s procedures. All classes that implement these
service’s procedures, have to inherit from this interface. For example
the imlementation of the servant have to inherit from this interface,
allowing the user to implement the service’s procedures.</p>
<p><strong>Functions:</strong></p>
<ul class="simple">
<li><strong>add</strong>: This function is the mapping of the Advanced Middleware IDL
service procedure <code class="docutils literal"><span class="pre">add()</span></code>.</li>
</ul>
</div>
<hr class="docutils" />
<div class="section" id="x-y-idl-servicename-async">
<h4>x.y.&lt;IDL-ServiceName&gt;Async<a class="headerlink" href="#x-y-idl-servicename-async" title="Permalink to this headline">¶</a></h4>
<p>This interface is a mapping of the Advanced Middleware IDL service. It
exposes the asynchronous version of the service’s procedures. All
classes that that implement these service’s asynchronous procedures have
to inherit from this interface.</p>
<p><strong>Functions:</strong></p>
<ul class="simple">
<li><strong>add</strong>: This function is the asynchronous version of the Advanced
Middleware IDL service’s procedure <code class="docutils literal"><span class="pre">add()</span></code>. It has no return value.</li>
</ul>
</div>
<hr class="docutils" />
<div class="section" id="x-y-idl-servicename-process">
<h4>x.y.&lt;IDL-ServiceName&gt;Process<a class="headerlink" href="#x-y-idl-servicename-process" title="Permalink to this headline">¶</a></h4>
<p>This class is a mapping of the Advanced Middleware IDL service. It
provides the asynchronous version of the service’s processing
procedures.</p>
<p><strong>Functions:</strong></p>
<ul class="simple">
<li><strong>add_processAsync</strong>: This function is the asynchronous version of
the Advanced Middleware IDL service’s process procedure. It has no
return value.</li>
</ul>
</div>
<hr class="docutils" />
<div class="section" id="x-y-idl-servicename-client">
<h4>x.y.&lt;IDL-ServiceName&gt;Client<a class="headerlink" href="#x-y-idl-servicename-client" title="Permalink to this headline">¶</a></h4>
<p>This interface provides the synchronous and asynchronous version of the
Advanced Middleware IDL service, because it implements the previously
described interfaces x.y.&lt;IDL-ServiceName&gt; and
x.y.&lt;IDL-ServiceInterface&gt;Async. The Advanced Middleware IDL service
proxy will implement this interface, allowing the user to call the
service’s remote procedures synchronously or asynchronously. It is only
used on the client side in order to make the Proxy to implement all the
functions for this service (both synchronous and asynchronous).</p>
<p><strong>Functions:</strong></p>
<ul class="simple">
<li><strong>add</strong>: Function inherited from <em>x.y.&lt;IDL-ServiceName&gt;</em> interface.
This function is the mapping of the Advanced Middleware IDL service.</li>
<li><strong>add</strong>: Function inherited from <em>x.y.&lt;IDL-ServiceName&gt;Async</em>
interface. This function is the asynchronous version of the Advanced
Middleware IDL service’s procedure.</li>
</ul>
</div>
<hr class="docutils" />
<div class="section" id="x-y-idl-servicename-proxy">
<h4>x.y.&lt;IDL-ServiceName&gt;Proxy<a class="headerlink" href="#x-y-idl-servicename-proxy" title="Permalink to this headline">¶</a></h4>
<p>This class encapsulates the implementation of the interface
<em>x.y.&lt;IDL-ServiceName&gt;Client</em>. It provides the logic to call the
Advanced Middleware IDL service’s remote procedures, synchronously or
asynchronously.</p>
<p><strong>Functions:</strong></p>
<ul class="simple">
<li><strong>add</strong>: Function inherited from <em>x.y.&lt;IDL-ServiceName&gt;Client</em>
interface. This function is the mapping of the Advanced Middleware
IDL service.</li>
<li><strong>add</strong>: Function inherited from <em>x.y.&lt;IDL-ServiceName&gt;Client</em>
interface. This function is the asynchronous version of the Advanced
Middleware IDL service’s procedure.</li>
</ul>
</div>
<hr class="docutils" />
<div class="section" id="x-y-idl-servicename-servant">
<h4>x.y.&lt;IDL-ServiceName&gt;Servant<a class="headerlink" href="#x-y-idl-servicename-servant" title="Permalink to this headline">¶</a></h4>
<p>This abstract class can be used by users to implement the Advanced
Middleware IDL service’s procedures. This class implements the interface
<em>org.fiware.kiara.server.Servant</em>, providing the mechanism the server
will use to call the user’s procedure implementations. Also it inherits
from the interface <em>x.y.&lt;IDL-ServiceName&gt;</em> leaving the implementation of
this functions to the user.</p>
</div>
</div>
</div>
<div class="section" id="detailed-api">
<h2>Detailed API<a class="headerlink" href="#detailed-api" title="Permalink to this headline">¶</a></h2>
<p>This section defines in detail the API provided by the classes defined
above.</p>
<div class="section" id="id2">
<h3>Main entry point<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="36%" />
<col width="19%" />
<col width="30%" />
<col width="14%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>org.fiware.kiara.Kiara</strong></th>
<th class="head">&nbsp;</th>
<th class="head">&nbsp;</th>
<th class="head">&nbsp;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>Attributes</strong></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><em>Name</em></td>
<td><em>Type</em></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>n/a</td>
<td>n/a</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><strong>Public Operations</strong></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><em>Name</em></td>
<td><em>Parameters</em></td>
<td><em>Returns/Type</em></td>
<td><em>Raises</em></td>
</tr>
<tr class="row-odd"><td>getTypeDescriptorBuilder</td>
<td>&nbsp;</td>
<td>TypeDescriptorBuilder</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>getDynamicValueBuilder</td>
<td>&nbsp;</td>
<td>DynamicValueBuilder</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>createContext</td>
<td>&nbsp;</td>
<td>Context</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>shutdown</td>
<td>&nbsp;</td>
<td>void</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id3">
<h3>Common interfaces<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="39%" />
<col width="20%" />
<col width="23%" />
<col width="18%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>org.fiware.kiara.Context</strong></th>
<th class="head">&nbsp;</th>
<th class="head">&nbsp;</th>
<th class="head">&nbsp;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>Attributes</strong></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><em>Name</em></td>
<td><em>Type</em></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>n/a</td>
<td>n/a</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><strong>Public Operations</strong></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><em>Name</em></td>
<td><em>Parameters</em></td>
<td><em>Returns/Type</em></td>
<td><em>Raises</em></td>
</tr>
<tr class="row-odd"><td>connect</td>
<td>&nbsp;</td>
<td>Connection</td>
<td>IOException</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>url</td>
<td>String</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>connect</td>
<td>&nbsp;</td>
<td>Connection</td>
<td>IOException</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>transport</td>
<td>Transport</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>serializer</td>
<td>Serializer</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>createService</td>
<td>&nbsp;</td>
<td>Service</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>createServer</td>
<td>&nbsp;</td>
<td>Server</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>createTransport</td>
<td>&nbsp;</td>
<td>Transport</td>
<td>IOException</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>String</td>
<td>url</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>createServerTransport</td>
<td>&nbsp;</td>
<td>ServerTransport</td>
<td>IOException</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>url</td>
<td>String</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>createSerializer</td>
<td>&nbsp;</td>
<td>Serializer</td>
<td>IOException</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>name</td>
<td>String</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id4">
<h3>Network transports<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="48%" />
<col width="17%" />
<col width="22%" />
<col width="13%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>org.fiware.kiara.transport.Transport</strong></th>
<th class="head">&nbsp;</th>
<th class="head">&nbsp;</th>
<th class="head">&nbsp;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>Attributes</strong></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><em>Name</em></td>
<td><em>Type</em></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>n/a</td>
<td>n/a</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><strong>Public Operations</strong></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><em>Name</em></td>
<td><em>Parameters</em></td>
<td><em>Returns/Type</em></td>
<td><em>Raises</em></td>
</tr>
<tr class="row-odd"><td>getTransportFactory</td>
<td>&nbsp;</td>
<td>TransportFactory</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id5">
<h3>Dependent API<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p>Cause the described classes in this section are dependant of the
Advanced Middleware IDL service, this section will use the example in
section <a class="reference external" href="#api-examples">API Examples</a> to define them.</p>
<table border="1" class="docutils">
<colgroup>
<col width="39%" />
<col width="21%" />
<col width="24%" />
<col width="16%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>x.y.&lt;IDL-ServiceName&gt;</strong></th>
<th class="head">&nbsp;</th>
<th class="head">&nbsp;</th>
<th class="head">&nbsp;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>Attributes</strong></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><em>Name</em></td>
<td><em>Type</em></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>n/a</td>
<td>n/a</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><strong>Public Operations</strong></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><em>Name</em></td>
<td><em>Parameters</em></td>
<td><em>Returns/Type</em></td>
<td><em>Raises</em></td>
</tr>
<tr class="row-odd"><td>add</td>
<td>&nbsp;</td>
<td>int</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>num1</td>
<td>int</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>num2</td>
<td>int</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="39%" />
<col width="18%" />
<col width="30%" />
<col width="14%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>x.y.&lt;IDL-ServiceName&gt;Async</strong></th>
<th class="head">&nbsp;</th>
<th class="head">&nbsp;</th>
<th class="head">&nbsp;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>Attributes</strong></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><em>Name</em></td>
<td><em>Type</em></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>n/a</td>
<td>n/a</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><strong>Public Operations</strong></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><em>Name</em></td>
<td><em>Parameters</em></td>
<td><em>Returns/Type</em></td>
<td><em>Raises</em></td>
</tr>
<tr class="row-odd"><td>add</td>
<td>&nbsp;</td>
<td>void</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>num1</td>
<td>int</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>num2</td>
<td>int</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>callback</td>
<td>AsyncCallback&lt;Integer&gt;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="61%" />
<col width="14%" />
<col width="15%" />
<col width="10%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>x.y.&lt;IDL-ServiceName&gt;Client</strong></th>
<th class="head">&nbsp;</th>
<th class="head">&nbsp;</th>
<th class="head">&nbsp;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>Attributes</strong></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><em>Name</em></td>
<td><em>Type</em></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>n/a</td>
<td>n/a</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><strong>Public Operations</strong></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><em>Name</em></td>
<td><em>Parameters</em></td>
<td><em>Returns/Type</em></td>
<td><em>Raises</em></td>
</tr>
<tr class="row-odd"><td>Inherited from x.y.&lt;IDL-ServiceName&gt; and x.y.&lt;IDL-ServiceName&gt;Async</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="49%" />
<col width="31%" />
<col width="12%" />
<col width="8%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>x.y.&lt;IDL-ServiceName&gt;Proxy</strong></th>
<th class="head">&nbsp;</th>
<th class="head">&nbsp;</th>
<th class="head">&nbsp;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>Attributes</strong></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><em>Name</em></td>
<td><em>Type</em></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>m_ser</td>
<td>org.fiware.kiara.serialization.Serializer</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>m_transport</td>
<td>org.fiware.kiara.transport.Transport</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><strong>Public Operations</strong></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><em>Name</em></td>
<td><em>Parameters</em></td>
<td><em>Returns/Type</em></td>
<td><em>Raises</em></td>
</tr>
<tr class="row-even"><td>Inherited from x.y.&lt;IDL-ServiceName&gt; and x.y.&lt;IDL-ServiceName&gt;Async</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="19%" />
<col width="25%" />
<col width="14%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>x.y.&lt;IDL-ServiceName&gt;Servant</strong></th>
<th class="head">&nbsp;</th>
<th class="head">&nbsp;</th>
<th class="head">&nbsp;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>Attributes</strong></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><em>Name</em></td>
<td><em>Type</em></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>n/a</td>
<td>n/a</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><strong>Public Operations</strong></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><em>Name</em></td>
<td><em>Parameters</em></td>
<td><em>Returns/Type</em></td>
<td><em>Raises</em></td>
</tr>
<tr class="row-odd"><td>getServiceName</td>
<td>&nbsp;</td>
<td>String</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>process</td>
<td>&nbsp;</td>
<td>TransportMessage</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>ser</td>
<td>Serializer</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>message</td>
<td>TransportMessage</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>transport</td>
<td>Transport</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>messageId</td>
<td>Object</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>bis</td>
<td>BinaryInputStream</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="43%" />
<col width="19%" />
<col width="24%" />
<col width="14%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>x.y.&lt;IDL-ServiceName&gt;Process</strong></th>
<th class="head">&nbsp;</th>
<th class="head">&nbsp;</th>
<th class="head">&nbsp;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>Attributes</strong></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><em>Name</em></td>
<td><em>Type</em></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>n/a</td>
<td>n/a</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><strong>Public Operations</strong></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><em>Name</em></td>
<td><em>Parameters</em></td>
<td><em>Returns/Type</em></td>
<td><em>Raises</em></td>
</tr>
<tr class="row-odd"><td>add_processsAsync</td>
<td>&nbsp;</td>
<td>void</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>message</td>
<td>TransportMessage</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>ser</td>
<td>Serializer</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>callback</td>
<td>AsyncCallback</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="id6">
<h2>API Usage Examples<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<p>Examples used in this section are based on the following <a class="reference internal" href="Middleware_IDL_Specification.html"><em>Advanced Middleware IDL</em></a>:</p>
<div class="highlight-python"><div class="highlight"><pre>service Calculator
{
    i32 add(i32 num1, i32 num2);
};
</pre></div>
</div>
<div class="section" id="client-api">
<h3>Client API<a class="headerlink" href="#client-api" title="Permalink to this headline">¶</a></h3>
<div class="section" id="direct-connection-to-remote-service">
<h4>Direct connection to remote service<a class="headerlink" href="#direct-connection-to-remote-service" title="Permalink to this headline">¶</a></h4>
<p>This example shows how to create a direct connection to a server using
the TCP transport and the CDR serialization. After it creates the
connection, the service proxy is instantiated and used to call a remote
procedure.</p>
<div class="code java highlight-python"><div class="highlight"><pre>Context context = Kiara.createContext();
Connection connection = context.connect(&quot;tcp://192.168.1.18:8080?serialization=cdr&quot;);
CalculatorClient client = connection.getServiceProxy(CalculatorClient.class);

int result = client.add(3,4);
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">Transport</span></code> and <code class="docutils literal"><span class="pre">Serialization</span></code> instances are implizitly created by
the connection, based on the string parameter of the <code class="docutils literal"><span class="pre">connect</span></code> method.</p>
</div>
<div class="section" id="secure-connection-to-remote-service">
<h4>Secure connection to remote service<a class="headerlink" href="#secure-connection-to-remote-service" title="Permalink to this headline">¶</a></h4>
<p>KIARA also provides a way to stablish secure TCP connections with servers
running in secure mode. To to so, simply change the connection URL to use
TCPS instead of TCP.</p>
<div class="code java highlight-python"><div class="highlight"><pre>Context context = Kiara.createContext();
Connection connection = context.connect(&quot;tcps://192.168.1.18:8080?serialization=cdr&quot;);
CalculatorClient client = connection.getServiceProxy(CalculatorClient.class);

int result = client.add(3,4);
</pre></div>
</div>
<p>Note that a client running normal (non secure) TCP transport can initialize a
connection with a non-secure TCP server, but this does not happen in the
opposite way.</p>
</div>
<div class="section" id="explicitly-instanciate-and-configure-advanced-middleware-components">
<h4>Explicitly instanciate and configure Advanced Middleware components<a class="headerlink" href="#explicitly-instanciate-and-configure-advanced-middleware-components" title="Permalink to this headline">¶</a></h4>
<p>This examples shows how to create a direct connection as above, but
using a TCP transport and CDR serialization created and configured
explicitly by the user.</p>
<div class="code java highlight-python"><div class="highlight"><pre>Context context = Kiara.createContext();
// User instantiates a transport object which can be configured later.
Transport transport = context.createTransport(&quot;tcp://192.168.1.18:8080&quot;);
// User instantiates a serialization object which can be configured later.
Serializer serializer = context.createSerializer(&quot;cdr&quot;);
Connection connection = context.connect(transport, serializer);
CalculatorClient client = connection.getServiceProxy(CalculatorClient.class);

int result = client.add(3,4);
</pre></div>
</div>
</div>
</div>
<div class="section" id="id7">
<h3>Server API<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<div class="section" id="providing-a-service">
<h4>Providing a service<a class="headerlink" href="#providing-a-service" title="Permalink to this headline">¶</a></h4>
<p>This examples shows how to create a server and add a service to it.</p>
<div class="code java highlight-python"><div class="highlight"><pre>Context context = Kiara.createContext();
Server server = context.createServer();
Service service = context.createService();

// User creates and registers it&#39;s implementation of the servant.
Calculator calculator_impl = new CalculatorServantImpl();
service.register(calculator_impl);

// Add the service to the server
server.addService(service, &quot;tcp://0.0.0.0:8080&quot;, &quot;cdr&quot;);

server.run();
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">Transport</span></code> and <code class="docutils literal"><span class="pre">Serialization</span></code> instances are implizitly created by
the connection, based on the string parameters of the <code class="docutils literal"><span class="pre">addService</span></code>
method.</p>
</div>
<div class="section" id="id8">
<h4>Explicitly instanciate and configure Advanced Middleware components<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h4>
<p>This example shows how to provide a service as above, but using a TCP
transport and CDR serialization created and configured explicitly by the
user.</p>
<div class="code java highlight-python"><div class="highlight"><pre>Context context = Kiara.createContext();
Server server = context.createServer();
Service service = context.createService();

// User creates and registers it&#39;s implementation of the servant.
Calculator calculator_impl = new CalculatorServantImpl();
service.register(calculator_impl);

// Transport and Serializer are expicitly created ...
Transport transport = context.createTransport(&quot;tcp://0.0.0.0:8080&quot;);
Serializer serializer = context.createSerializer(&quot;cdr&quot;);

// ... and bound to the service when adding it to the server
server.addService(service, transport, serializer);

server.run();
</pre></div>
</div>
</div>
<div class="section" id="secure-tcp-server">
<h4>Secure TCP server<a class="headerlink" href="#secure-tcp-server" title="Permalink to this headline">¶</a></h4>
<p>KIARA allows the server to initialize using a secure TCP layer so that
only clients using the same protocol can establish a connection with
it.</p>
<p>The transport used to handle secure connections is SSL v3.1 (Secure Sockets
Layer) over TLS v1.2 (Transport Layer Security). In order to start a
secure server, the only change the user has to take into account is
changing the URL of the server so that it uses TCPS instead of TCP.</p>
<p>This example shows how to create a secure server and add a service to it.</p>
<div class="code java highlight-python"><div class="highlight"><pre>Context context = Kiara.createContext();
Server server = context.createServer();
Service service = context.createService();

// User creates and registers it&#39;s implementation of the servant.
Calculator calculator_impl = new CalculatorServantImpl();
service.register(calculator_impl);

// Add the service to the server
server.addService(service, &quot;tcps://0.0.0.0:8080&quot;, &quot;cdr&quot;);

server.run();
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">Transport</span></code> and <code class="docutils literal"><span class="pre">Serialization</span></code> instances are implicitly created by
the connection, based on the string parameters of the <code class="docutils literal"><span class="pre">addService</span></code>
method.</p>
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Middleware_RPC_Dynamic_Types_API_Specification.html" class="btn btn-neutral float-right" title="Advanced Middleware RPC Dynamic Types API Specification" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="OpenSpecification.html" class="btn btn-neutral" title="Open Specifiation" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, eProsima, DFKI, ZHAW.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.4.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>